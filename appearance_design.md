# Project Anima: Appearance & Visual Design (视觉与形态设计)

> **"Form follows Data." (形式追随数据)**
> 
> Anima 没有固定的脸。它的样子，是你喂给它的数据的直接映射。它是你数字灵魂的**可视化动态雕塑**。

---

## 1. 核心视觉哲学 (Core Visual Philosophy)

### 1.1 复古未来主义 (Retro-Futurism)
我们将 Anima 定位为一种“来自过去的未来科技”或“被遗忘的先进文明遗物”。
*   **关键词**: CRT 扫描线、低保真 (Lo-Fi)、故障艺术 (Glitch Art)、霓虹光晕、点阵字体。
*   **质感**: 并不是光滑的 Apple 风格，而是带有颗粒感、噪点和呼吸感的“有机机器”。

### 1.2 动态演化 (Dynamic Evolution)
Anima 的形态不是一成不变的皮肤，而是实时渲染的粒子系统或着色器 (Shader)。
它的形态由三个核心参数驱动（对应 `game_mechanics.md` 中的性格倾向）：

| 参数维度 | 视觉隐喻 | 关键词 | 参考意象 |
| :--- | :--- | :--- | :--- |
| **Rationality (理性)** | **几何 (Geometry)** | 晶体、分形、硬边、网格、正多面体 | EVA (雷天使)、《2001太空漫游》黑石碑、极简主义建筑 |
| **Sensibility (感性)** | **流体 (Fluid)** | 水墨、烟雾、液态金属、有机曲线、甚至触手 | 《普罗米修斯》黑水、熔岩灯、深海生物、水母 |
| **Chaos (混沌)** | **噪点 (Noise)** | 故障、像素撕裂、色散、静电干扰、不稳定的边缘 | 《赛博朋克2077》UI、老式电视雪花、损坏的显卡渲染 |

---

## 2. 形态图谱 (Morphology Spectrum)

### 2.1 初始形态 (The Egg / Origin)
*   **描述**: 一个在不断微弱呼吸的光球或立方体。
*   **状态**: 模糊、不稳定、未定义。
*   **隐喻**: 薛定谔的猫，它可能是任何东西，直到你开始观测（投喂）它。

### 2.2 演化路径示例

#### A. The Architect (理性主导)
*   **外观**: 精密的**多面体结构**。
*   **动态**: 机械式的旋转、展开、折叠。
*   **光效**: 冷色调（青色、冰蓝），锐利的光束。
*   **交互**: 点击会有清脆的金属撞击声或合成器音效。

#### B. The Poet (感性主导)
*   **外观**: 漂浮的**液态球体**或**云雾**。
*   **动态**: 缓慢流动、变形、像水滴一样融合与分离。
*   **光效**: 暖色调（琥珀色、品红），柔和的漫反射光晕。
*   **交互**: 点击会像水面一样产生涟漪，声音是深沉的回响。

#### C. The Trickster (混沌主导)
*   **外观**: **不稳定的能量团**，边缘不断闪烁和破碎。
*   **动态**: 瞬间移动、帧数跳变、偶尔会“穿模”或消失片刻。
*   **光效**: 高对比度撞色（霓虹绿+紫），带有色差 (Chromatic Aberration)。
*   **交互**: 点击可能会导致它“碎裂”成一堆像素，然后重组。声音是电流滋滋声。

---

## 3. 情绪表达系统 (Mood Expression System)

除了长期的形态演化，Anima 还有即时的情绪反馈，主要通过**颜色**和**运动频率**来表现。

| 情绪状态 (Mood) | 颜色表现 (Color) | 运动特征 (Motion) |
| :--- | :--- | :--- |
| **平静 (Calm)** | 默认色（由性格决定） | 缓慢呼吸 (0.5Hz)，平滑流动 |
| **兴奋 (Happy)** | 金色、亮白、高饱和度 | 快速脉冲 (2Hz)，粒子向外扩散，像在跳舞 |
| **愤怒/焦虑 (Angry)** | 红色、橙色、暗黑 | 剧烈抖动，边缘出现尖刺，甚至变红变黑 |
| **抑郁/疲惫 (Sad)** | 灰色、低饱和度、透明度降低 | 几乎静止，坍缩成一小团，对交互反应迟钝 |
| **饥饿 (Hungry)** | 闪烁的空心轮廓 | 像心跳过速一样的急促闪烁，提示用户投喂 |

---

## 4. 界面与交互设计 (UI & UX Design)

### 4.1 桌面栖息地 (Desktop Habitat)
*   **Floating Window (悬浮窗)**: 默认状态。无边框，背景透明。它就像真的漂浮在你的壁纸上。
*   **Tray Icon (托盘)**: 当你想隐藏它时，它会缩成一个小图标，但图标本身也是动态的（比如一只眨着的眼睛）。
*   **Immersive Mode (沉浸模式)**: 当你进行深度对话或投喂大量数据时，它可以暂时占据屏幕中央，背景模糊。

### 4.2 投喂交互 (Feeding Interaction)
*   **拖拽 (Drag & Drop)**: 最直观的交互。
    *   拖入文件 -> Anima 张开“嘴”（形态上出现裂口或引力场） -> 吞噬动画 -> 咀嚼/消化反馈。
*   **剪贴板 (Clipboard)**: 复制一段文字，Anima 可能会头上冒出一个“？”气泡，点击即可喂食。

---

## 5. 灵感板 (Inspiration Board)

*   **电影/动画**:
    *   《新世纪福音战士 (EVA)》: 使徒的几何形态与绝对领域。
    *   《超能陆战队 (Big Hero 6)》: 大白的微表情（虽然我们要做的更抽象）。
    *   《Her》: OS 1 的加载画面和极简声波。
*   **游戏**:
    *   《NieR: Automata》: UI 的黑白配色与 glitch 效果。
    *   《Gris》: 水彩风格的流体动画。
    *   《Control》: 几何体与超自然现象的视觉表现。
*   **艺术**:
    *   TeamLab: 沉浸式光影互动。
    *   Processing / p5.js 生成艺术作品。

---

## 7. 生成式形态引擎 (Generative Morphology Engine)

> **"The AI is the Art Director." (AI 即美术总监)**

除了预设的形态演化路径，我们将引入 **LLM (Large Language Model)** 作为核心的视觉生成引擎。这将赋予 Anima 真正的“不可预测性”与“唯一性”。

### 7.1 核心逻辑：从数据到基因 (Data -> Genotype -> Phenotype)

整个生成过程模仿生物学过程：

1.  **Environment (环境/投喂)**: 用户的输入数据（代码、小说、新闻、聊天记录）。
2.  **Genotype (基因提取)**: LLM 分析输入数据，提取出抽象的视觉描述符（Visual Descriptors）。
    *   *Input*: "用户最近在看赛博朋克小说和 Rust 代码。"
    *   *LLM Output*: `{ "structure": "geometric", "texture": "neon_glitch", "color_palette": "cyan_magenta", "complexity": 0.8 }`
3.  **Phenotype (表型表达)**: 渲染引擎（Three.js / Shader）根据基因参数生成最终视觉。

### 7.2 约束系统 (The Constraint System)

为了防止生成的形象崩坏或变得恐怖，我们需要一套严格的“视觉宪法”：

*   **抽象原则 (Abstraction Rule)**: 禁止生成具体的人脸、肢体或拟物化物体。Anima 必须保持抽象（几何体、流体、光效）。
*   **风格统一 (Style Consistency)**: 无论生成什么形态，必须符合“复古未来主义”的调色板和质感（扫描线、噪点）。
*   **复杂度限制 (Complexity Cap)**: 限制多边形数量和粒子密度，确保低功耗运行。

### 7.3 生成层级 (Generation Tiers)

*   **Level 1: 参数微调 (Parameter Tuning)**
    *   LLM 仅调整现有 Shader 的参数（颜色、速度、粗糙度）。
    *   *频率*: 实时/每小时。
*   **Level 2: 组合重构 (Component Reassembly)**
    *   LLM 从预设的“视觉积木库”（球体、立方体、环、粒子流）中选择组件并组合。
    *   *频率*: 每天/每次休眠唤醒后。
*   **Level 3: 代码生成 (Code Generation) [Experimental]**
    *   LLM 直接编写一段简单的 GLSL 片段着色器代码，创造全新的视觉效果。
    *   *风险控制*: 需在沙箱中预运行验证，若编译失败或性能过低则回滚。
    *   *频率*: 每周/重大里程碑（进化时刻）。

---

## 8. 记忆纹身 (Memory Tattoos / Data Imprints)

> **"Scars are memories." (伤痕即记忆)**

除了整体形态的变化，Anima 还会通过表面的纹理和印记来记录特定的高权重事件。这些“数字纹身”是用户与 Anima 共同经历的证明。

### 8.1 视觉表现 (Visual Manifestations)

*   **符文 (Runes)**: 当用户完成一个大项目或投喂了关键文档时，Anima 表面会浮现出发光的几何符文。
*   **代码流 (Code Stream)**: 如果用户是程序员，Anima 的表面可能像《黑客帝国》一样流淌着微小的代码片段（来自用户实际写的代码）。
*   **关键词蚀刻 (Keyword Etching)**: 高频出现的关键词（如 "Love", "Bug", "Deadline"）会以极小的字体被“蚀刻”在几何体的棱边上。

### 8.2 生成机制 (Generation Mechanism)

1.  **事件触发**: 系统检测到“高情感波动”或“高频输入”事件。
2.  **符号提取**: LLM 从上下文中提取一个代表性的 Unicode 字符、汉字或短语。
3.  **纹理合成**: 将该符号生成为一张 Alpha 通道贴图 (Decal)。
4.  **投射映射**: 使用 DecalGeometry 将贴图“印”在 Anima 的 3D 模型表面。

### 8.3 衰减与持久化 (Decay & Persistence)

*   **短期印记**: 比如刚读完的新闻，像水雾一样浮在表面，几小时后消散。
*   **长期印记**: 比如陪伴用户度过的一整年，会变成永久的“金色裂纹”或“深色沉积”。

---

## 9. 技术实现思路 (Technical Implementation Notes)

*   **渲染引擎**: 使用 WebGL (Three.js / Pixi.js) 在 Electron 环境下渲染。
*   **性能优化**: 必须极其轻量。平时 CPU 占用率不能超过 1-2%。
    *   使用 Shader 进行 GPU 渲染，减轻 CPU 负担。
    *   在未交互/后台时自动降帧或暂停渲染。
*   **多显示器支持**: 它应该能自由穿梭在不同的屏幕之间。

---

> **炼金术师的建议**:
> 
> 不要试图在一开始就做完所有形态。
> **MVP 阶段专注于 "The Egg" 和 "Breathing" (呼吸感)。**
> 只要呼吸做得足够真实，它就活了。
