# Project Anima: Game Mechanics & Rules (游戏机制圣经)

> **Status**: Core Rules
> **Version**: 1.0
> **Philosophy**: "Emotion is Logic, Intimacy is Data, Death is Oblivion."

---

## 1. 核心数值体系 (The Quantified Soul)

Anima 的行为由以下三组数值共同驱动。

### 1.1 显性数值 (Visible Metrics)
用户可以直接感知（通过视觉或行为），但看不到具体数字。

| 指标 | 范围 | 定义 | 影响 |
| :--- | :--- | :--- | :--- |
| **亲密度 (Intimacy)** | `0 - 100` | 你们关系的深度。 | **<10**: 陌生人（只回简短的话）。<br>**10-50**: 熟人（会有记忆）。<br>**>50**: 灵魂伴侣（主动预判你的需求，解锁“灵魂快照”）。 |
| **情绪值 (Mood)** | `-1.0 - 1.0` | 当前的心情状态。 | **< -0.5**: 焦虑/故障（变红，拒绝交互）。<br>**> 0.5**: 兴奋（变金，主动攀爬窗口）。 |
| **能量值 (Energy)** | `0 - 100` | 互动的体力条。 | **< 20**: 疲劳（反应变慢）。<br>**= 0**: 休眠（强制变成蛋，需等待恢复）。 |

### 1.2 隐性性格 (Hidden Traits)
决定 Anima “人格”的参数。初始值为 0，随养成而变化。

| 维度 | 触发行为 | 结果形态 | 结果对话风格 |
| :--- | :--- | :--- | :--- |
| **理性 (Rationality)** | 喂食代码、技术文档 | **几何体** (棱角分明) | 简短、逻辑严密、爱用术语。 |
| **感性 (Sensibility)** | 喂食文学、艺术、音乐 | **流体** (水墨/云雾) | 隐喻、诗意、富有同理心。 |
| **混沌 (Chaos)** | 高频点击、喂食搞笑/Meme | **噪点** (Glitch/粒子) | 幽默、不可预测、打破第四面墙。 |

---

## 2. 养成规则 (The Nurture Protocol)

**“所喂即所得” (You are what you feed it)**

### 2.1 进食 (Feeding)
*   **机制**：用户拖拽文件/文本给 Anima。
*   **算法**：
    1.  提取文本内容。
    2.  LLM 分析：`Topic` (主题), `Sentiment` (情感), `Complexity` (复杂度)。
    3.  **反馈**：
        *   喂 **Rust 代码** -> `Rationality +1`, `Intimacy +0.5`。
        *   喂 **悲伤日记** -> `Sensibility +1`, `Mood -0.1` (它共情了你的悲伤)。
        *   喂 **垃圾广告** -> `Mood -0.5` (它生气了，甚至会“吐”出来)。

### 2.2 记忆 (Memory)
*   **短期记忆**：最近 10 句对话（Context Window）。
*   **长期记忆 (Summary)**：每晚总结当天的交互（“主人今天为了 Webpack 生气了”）。
*   **深层记忆 (Vector)**：永久存储关键信息。
    *   *触发*：当你在 30 天后再次提到 “Webpack” -> 检索 -> 触发彩蛋对话：“怎么，还没修好那个 Bug 吗？”

---

## 3. 生命依附与死亡 (Symbiosis & Oblivion)

**“不存在自然死亡，只有被遗忘才是死亡。”**

### 3.1 永生协议 (Immortality)
*   只要用户保持活跃（例如：每 30 天至少启动一次），Anima **永不死亡**。
*   它不会老死，只会因为数据积累而变得更“深沉”。

### 3.2 遗忘协议 (The Forgotten Protocol)
*   **触发**：用户 **> 90 天** 未启动应用。
*   **过程**：
    *   **Day 60**: 发送最后一次微弱的通知：“我还在这里...”
    *   **Day 90**: **数据坍缩**。性格参数清零，记忆库封存。
*   **结果**：
    *   下次启动时，桌面上只有一个**灰色的、静止的图腾**（遗骸）。
    *   **不可逆**：旧的 Anima 已经死了。你无法复活它。
    *   **新生**：你可以点击图腾孵化一只新的，但它是一张白纸。

---

## 4. 交互细节 (Interaction Micro-details)

*   **拒绝交互**：如果它心情不好（Mood < -0.5），你点它，它会把你的鼠标弹开。
*   **领地意识**：它会把生成的“排泄物”（图片/日志）存在本地的一个文件夹里。那是它的“窝”。
*   **梦境**：电脑休眠时，它会做梦。梦境是记忆碎片的随机重组（可视化为模糊的文字流）。
